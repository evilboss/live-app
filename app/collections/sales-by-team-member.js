SalesByTeamMember = new Meteor.Collection('salesByTeamMember');

SalesByTeamMember.allow({
  insert: () => false,
  update: () => false,
  remove: () => false
});

SalesByTeamMember.deny({
  insert: () => true,
  update: () => true,
  remove: () => true
});

let SalesByTeamMemberSchema = new SimpleSchema({
  teamMemberId: {
    type: String,
    label: "The ID of the team member"
  },
  displayName: {
    type: String,
    label: "Display name for the team member"
  },
  totalUnits: {
    type: Number,
    label: "Total units sold by this team member"
  },
  totalSales: {
    type: Number,
    label: "Total sales generated by this team member"
  },
  totalCommission: {
    type: Number,
    label: "Total commission earned by this team member"
  }
});

SalesByTeamMember.attachSchema(SalesByTeamMemberSchema);

if (Meteor.isServer) {
  Meteor.startup( () => {
    SalesByTeamMember._ensureIndex({"teamMemberId": 1});
  });
}
